const __vite__fileDeps=["assets/EditTransaction-fqrdK6bx.js","assets/index-COEyHbnW.js","assets/index-C2hKCJDb.css","assets/VRow-a_zKd9GN.js","assets/VRow-CndwlDRC.css","assets/VCard-YZK-nTNx.js","assets/VCard-BGihEtQu.css","assets/EditTransaction-eUjNdxnE.css","assets/DeleteTransaction-jEpE_VCZ.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{v as te,b as w,x as O,y as fe,z as _e,A as ge,B as ye,C as he,D as ke,E as xe,F as Ve,h as a,M as Ie,L as be,u as Pe,a as C,e as I,f as s,o as d,j as o,n as R,i as r,V as b,G as De,k as y,t as f,m as U,p as W,l as Ce,H as q,I as Se,s as H,_ as J}from"./index-COEyHbnW.js";import{m as Te,h as we,i as Ee,j as Be,k as Ye,l as Ae,n as Fe,o as Le,p as Me,q as ze,r as $e,s as je,t as Ne,v as Ge,w as Oe,x as Re,y as Ue,z as We,u as qe,f as He,c as Je,a as K,e as Q,d as S,b as X,V as T,g as Ke}from"./VRow-a_zKd9GN.js";import{V as Z,a as ee,b as Qe}from"./VCard-YZK-nTNx.js";const Xe=te({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function Ze(e,c){const n=e.returnObject?c:O(c,e.itemValue),u=O(c,e.itemSelectable,!0);return{type:"item",value:n,selectable:u,raw:c}}function et(e,c){const n=[];for(const u of c)n.push(Ze(e,u));return n}function tt(e){return{items:w(()=>et(e,e.items))}}const at=te({search:String,loading:Boolean,...fe(),...Xe(),...Te(),...we(),...Ee({itemsPerPage:5}),...Be(),...Ye(),...Ae(),..._e(),...ge({transition:{component:ye,hideOnLeave:!0}})},"VDataIterator"),st=he()({name:"VDataIterator",props:at(),emits:{"update:modelValue":e=>!0,"update:groupBy":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,c){let{slots:n}=c;const u=ke(e,"groupBy"),g=xe(e,"search"),{items:h}=tt(e),{filteredItems:E}=Fe(e,h,g,{transform:V=>V.raw}),{sortBy:m,multiSort:k,mustSort:x}=Le(e),{page:_,itemsPerPage:v}=Me(e),{toggleSort:B}=ze({sortBy:m,multiSort:k,mustSort:x,page:_}),{sortByWithGroups:P,opened:Y,extractRows:D,isGroupOpen:p,toggleGroup:l}=$e({groupBy:u,sortBy:m}),{sortedItems:t}=je(e,E,P,{transform:V=>V.raw}),{flatItems:i}=Ne(t,u,Y),A=w(()=>i.value.length),{startIndex:F,stopIndex:ae,pageCount:se,prevPage:ne,nextPage:le,setItemsPerPage:oe,setPage:re}=Ge({page:_,itemsPerPage:v,itemsLength:A}),{paginatedItems:L}=Oe({items:i,startIndex:F,stopIndex:ae,itemsPerPage:v}),z=w(()=>D(L.value)),{isSelected:ie,select:ue,selectAll:de,toggleSelect:ce}=Re(e,{allItems:h,currentPage:z}),{isExpanded:me,toggleExpand:ve}=Ue(e);We({page:_,itemsPerPage:v,sortBy:m,groupBy:u,search:g});const M=w(()=>({page:_.value,itemsPerPage:v.value,sortBy:m.value,pageCount:se.value,toggleSort:B,prevPage:ne,nextPage:le,setPage:re,setItemsPerPage:oe,isSelected:ie,select:ue,selectAll:de,toggleSelect:ce,isExpanded:me,toggleExpand:ve,isGroupOpen:p,toggleGroup:l,items:z.value,groupedItems:L.value}));return Ve(()=>a(e.tag,{class:["v-data-iterator",{"v-data-iterator--loading":e.loading},e.class],style:e.style},{default:()=>{var V,$;return[(V=n.header)==null?void 0:V.call(n,M.value),a(Ie,{transition:e.transition},{default:()=>{var j,N;return[e.loading?a(be,{key:"loader",name:"v-data-iterator",active:!0},{default:pe=>{var G;return(G=n.loader)==null?void 0:G.call(n,pe)}}):a("div",{key:"items"},[L.value.length?(N=n.default)==null?void 0:N.call(n,M.value):(j=n["no-data"])==null?void 0:j.call(n)])]}}),($=n.footer)==null?void 0:$.call(n,M.value)]}})),{}}}),nt={class:"d-flex justify-space-between mb-2"},lt=r("div",{class:"text-h6"},"Transactions",-1),ot={key:0,class:"text-success"},rt={key:1,class:"text-error"},it={class:"text-capitalize"},ut={class:"d-flex justify-space-around"},dt={key:1,class:"text-center py-4"},ct=r("div",null,"No Transactions Found",-1),mt={class:"d-flex justify-space-between mt-4"},vt=r("div",{class:"text-h6"},"Transactions",-1),pt={class:"text-title"},ft=r("span",{class:"font-weight-bold"},"Interval: ",-1),_t={class:"text-capitalize"},gt=r("span",{class:"font-weight-bold"},"Amount: ",-1),yt={key:0,class:"text-success"},ht={key:1,class:"text-error"},kt=r("span",{class:"font-weight-bold"},"Start Date: ",-1),xt=r("span",{class:"font-weight-bold"},"End Date: ",-1),Vt={key:1,class:"text-center py-4"},It=r("div",null,"No Transactions Found",-1),Ct={__name:"TransactionsView",setup(e){const c=H(()=>J(()=>import("./EditTransaction-fqrdK6bx.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),n=H(()=>J(()=>import("./DeleteTransaction-jEpE_VCZ.js"),__vite__mapDeps([8,3,1,2,4,5,6]))),u=qe(),{mobile:g}=Pe(),{commaNumber:h}=Ke(),E=[{title:"Name",key:"name",searchable:!0},{title:"Interval",key:"interval"},{title:"Start",key:"start_date",searchable:!1},{title:"End",key:"end_date",searchable:!1},{title:"Amount",key:"value",searchable:!1},{title:"Actions",key:"actions",sortable:!1,searchable:!1,align:"end"}],m=C(null),k=C({}),x=C(!1),_=C(!1),v=p=>{k.value=p,x.value=!0},B=()=>{x.value=!1},P=p=>{k.value=p,_.value=!0},Y=()=>{_.value=!1},D=p=>{if(!p.interval_value)return"Once";let l=`Every ${p.interval_value} ${p.interval}`;return p.interval_value>1&&(l+="s"),l};return(p,l)=>(d(),I(He,{fluid:""},{default:s(()=>[o(g)?(d(),y(q,{key:1},[o(u).transactionsList.length?(d(),I(st,{key:0,items:o(u).transactionsList,search:m.value},{header:s(()=>[r("div",mt,[vt,a(b,{icon:"mdi-plus",onClick:l[3]||(l[3]=t=>v({})),size:"small",color:"primary"})]),o(u).transactionsList.length?(d(),I(K,{key:0,class:"mt-2 mb-6",placeholder:"Search",modelValue:m.value,"onUpdate:modelValue":l[4]||(l[4]=t=>m.value=t),"prepend-inner-icon":"mdi-magnify"},null,8,["modelValue"])):Ce("",!0)]),default:s(({items:t})=>[(d(!0),y(q,null,Se(t,({raw:i},A)=>(d(),I(Z,{key:A,class:"mb-4"},{default:s(()=>[a(Qe,{class:"d-flex justify-space-between"},{default:s(()=>[r("div",pt,f(i.name),1),r("div",null,[a(b,{icon:"mdi-pencil-outline",onClick:F=>v(i),variant:"text",size:"small"},null,8,["onClick"]),a(b,{class:"ml-2",icon:"mdi-trash-can-outline",onClick:F=>P(i),variant:"text",size:"small"},null,8,["onClick"])])]),_:2},1024),a(ee,null,{default:s(()=>[a(X,null,{default:s(()=>[a(T,null,{default:s(()=>[ft,r("span",_t,f(D(i)),1)]),_:2},1024),a(T,null,{default:s(()=>[gt,i.sign==1?(d(),y("span",yt,"+ "+f(o(h)(i.value)),1)):(d(),y("span",ht,"- "+f(o(h)(i.value)),1))]),_:2},1024)]),_:2},1024),a(X,{class:"mt-0"},{default:s(()=>[a(T,null,{default:s(()=>[kt,r("span",null,f(i.start_date?o(S)(i.start_date).format("YYYY-MM-DD"):null),1)]),_:2},1024),a(T,null,{default:s(()=>[xt,r("span",null,f(i.end_date?o(S)(i.end_date).format("YYYY-MM-DD"):null),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["items","search"])):(d(),y("div",Vt,[It,r("a",{href:"",onClick:l[5]||(l[5]=W(t=>v({}),["prevent"]))},"Add one")]))],64)):(d(),I(Z,{key:0,"max-width":"800",class:R(o(g)?"flat px-0 mx-0 elevation-0":"mx-auto")},{default:s(()=>[a(ee,{class:"pb-0"},{default:s(()=>[r("div",nt,[lt,a(b,{icon:"mdi-plus",onClick:l[0]||(l[0]=t=>v({})),size:"small",color:"primary"})]),o(u).transactionsList.length?(d(),I(Je,{key:0,items:o(u).transactionsList,headers:E,search:m.value,"sort-by":[{key:"name",order:"asc"}],"no-data-text":"No transactions match your search"},De({top:s(()=>[a(K,{class:"my-2",placeholder:"Search",modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=t=>m.value=t),"prepend-inner-icon":"mdi-magnify"},null,8,["modelValue"])]),"item.value":s(({item:t})=>[t.sign==1?(d(),y("div",ot,"+ "+f(o(h)(t.value)),1)):(d(),y("div",rt,"- "+f(o(h)(t.value)),1))]),"item.interval":s(({item:t})=>[r("div",it,f(D(t)),1)]),"item.start_date":s(({item:t})=>[U(f(t.start_date?o(S)(t.start_date).format("YYYY-MM-DD"):null),1)]),"item.end_date":s(({item:t})=>[U(f(t.end_date?o(S)(t.end_date).format("YYYY-MM-DD"):null),1)]),"item.actions":s(({item:t})=>[r("div",ut,[a(b,{icon:"mdi-pencil-outline",onClick:i=>v(t),variant:"text",size:"small"},null,8,["onClick"]),a(b,{icon:"mdi-trash-can-outline",onClick:i=>P(t),variant:"text",size:"small"},null,8,["onClick"])])]),_:2},[o(u).transactionsList.length?void 0:{name:"bottom",fn:s(()=>[]),key:"0"}]),1032,["items","search"])):(d(),y("div",dt,[ct,r("a",{href:"",onClick:l[2]||(l[2]=W(t=>v({}),["prevent"]))},"Add one")]))]),_:1})]),_:1},8,["class"])),a(Q,{modelValue:x.value,"onUpdate:modelValue":l[6]||(l[6]=t=>x.value=t),fullscreen:o(g),transition:o(g)?"dialog-bottom-transition":"dialog-transition"},{default:s(()=>[a(o(c),{class:"mx-auto",item:k.value,onClose:B,persistent:""},null,8,["item"])]),_:1},8,["modelValue","fullscreen","transition"]),a(Q,{modelValue:_.value,"onUpdate:modelValue":l[7]||(l[7]=t=>_.value=t)},{default:s(()=>[a(o(n),{item:k.value,onClose:Y,class:R(o(g)?"w-100":"mx-auto")},null,8,["item","class"])]),_:1},8,["modelValue"])]),_:1}))}};export{Ct as default};
