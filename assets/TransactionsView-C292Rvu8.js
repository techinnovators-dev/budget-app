const __vite__fileDeps=["assets/EditTransaction-BGJTs-ek.js","assets/index-UttpoP9P.js","assets/index-C2hKCJDb.css","assets/VContainer-DrkhHlmz.js","assets/VContainer-CndwlDRC.css","assets/VCard-lQeTQyuw.js","assets/VCard-BGihEtQu.css","assets/VRow-Cc3XD9Fd.js","assets/EditTransaction-eUjNdxnE.css","assets/DeleteTransaction-ZxSx3uei.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{a as z,b as v,o as r,f as k,h as s,p as y,k as t,i as l,j as o,V,v as B,l as h,t as c,n as b,q as L,s as C,_ as D}from"./index-UttpoP9P.js";import{u as M,V as j,b as F,a as O,d as T,c as E,e as P}from"./VContainer-DrkhHlmz.js";import{V as U,a as R}from"./VCard-lQeTQyuw.js";const q={class:"d-flex justify-space-between mb-2"},G=o("div",{class:"text-h6"},"Transactions",-1),H={key:0,class:"text-success"},J={key:1,class:"text-error"},K={class:"text-capitalize"},Q={class:"d-flex justify-space-around"},W={key:1,class:"text-center py-2"},X=o("div",null,"No Transactions Found",-1),se={__name:"TransactionsView",setup(Z){const I=C(()=>D(()=>import("./EditTransaction-BGJTs-ek.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),g=C(()=>D(()=>import("./DeleteTransaction-ZxSx3uei.js"),__vite__mapDeps([9,3,1,2,4,5,6]))),_=M(),{mobile:i}=z(),{commaNumber:x}=P(),w=[{title:"Name",key:"name",searchable:!0},{title:"Interval",key:"interval"},{title:"Start",key:"start_date",searchable:!1},{title:"End",key:"end_date",searchable:!1},{title:"Amount",key:"value",searchable:!1},{title:"Actions",key:"actions",sortable:!1,searchable:!1,align:"end"}],f=v(null),d=v({}),u=v(!1),m=v(!1),p=n=>{d.value=n,u.value=!0},Y=()=>{u.value=!1},N=n=>{d.value=n,m.value=!0},A=()=>{m.value=!1},S=n=>{if(!n.interval_value)return"Once";let a=`Every ${n.interval_value} ${n.interval}`;return n.interval_value>1&&(a+="s"),a};return(n,a)=>(r(),k(j,{fluid:"",class:y(t(i)?"px-0":null)},{default:s(()=>[l(R,{"max-width":"800",class:y(t(i)?"flat px-0 mx-0 elevation-0":"mx-auto")},{default:s(()=>[l(U,{class:"pb-0"},{default:s(()=>[o("div",q,[G,l(V,{icon:"mdi-plus",onClick:a[0]||(a[0]=e=>p({})),size:"small",color:"primary"})]),t(_).transactionsList.length?(r(),k(F,{key:0,items:t(_).transactionsList,headers:w,search:f.value,"sort-by":[{key:"name",order:"asc"}],"no-data-text":"No transactions match your search"},B({top:s(()=>[l(O,{class:"my-2",placeholder:"Search",modelValue:f.value,"onUpdate:modelValue":a[1]||(a[1]=e=>f.value=e),"prepend-inner-icon":"mdi-magnify",density:"compact"},null,8,["modelValue"])]),"item.value":s(({item:e})=>[e.sign==1?(r(),h("div",H,"+ "+c(t(x)(e.value)),1)):(r(),h("div",J,"- "+c(t(x)(e.value)),1))]),"item.interval":s(({item:e})=>[o("div",K,c(S(e)),1)]),"item.start_date":s(({item:e})=>[b(c(e.start_date?t(T)(e.start_date).format("YYYY-MM-DD"):null),1)]),"item.end_date":s(({item:e})=>[b(c(e.end_date?t(T)(e.end_date).format("YYYY-MM-DD"):null),1)]),"item.actions":s(({item:e})=>[o("div",Q,[l(V,{icon:"mdi-pencil-outline",onClick:$=>p(e),variant:"text",size:"small"},null,8,["onClick"]),l(V,{icon:"mdi-trash-can-outline",onClick:$=>N(e),variant:"text",size:"small"},null,8,["onClick"])])]),_:2},[t(_).transactionsList.length?void 0:{name:"bottom",fn:s(()=>[]),key:"0"}]),1032,["items","search"])):(r(),h("div",W,[X,o("a",{href:"",onClick:a[2]||(a[2]=L(e=>p({}),["prevent"]))},"Add one")]))]),_:1})]),_:1},8,["class"]),l(E,{modelValue:u.value,"onUpdate:modelValue":a[3]||(a[3]=e=>u.value=e),fullscreen:t(i),transition:t(i)?"dialog-bottom-transition":"dialog-transition"},{default:s(()=>[l(t(I),{class:"mx-auto",item:d.value,onClose:Y,persistent:""},null,8,["item"])]),_:1},8,["modelValue","fullscreen","transition"]),l(E,{modelValue:m.value,"onUpdate:modelValue":a[4]||(a[4]=e=>m.value=e)},{default:s(()=>[l(t(g),{item:d.value,onClose:A,class:y(t(i)?"w-100":"mx-auto")},null,8,["item","class"])]),_:1},8,["modelValue"])]),_:1},8,["class"]))}};export{se as default};
